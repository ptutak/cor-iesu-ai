{% load i18n %}
{% load language_tags %}
<!doctype html>
<html lang="{{ LANGUAGE_CODE }}">
    <head>
        <title>{% trans "Cancel Registration" %}</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    </head>
    <body>
        <!-- Language Switcher -->
        <div style="background: linear-gradient(135deg, #0d6efd 0%, #6610f2 100%); padding: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
            <div style="text-align: right; max-width: 1200px; margin: 0 auto; padding: 0 20px;">
                {% language_switcher %}
            </div>
        </div>

        <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
        <h1>{% trans "Cancel Registration" %}</h1>

        <p>
            <strong>{% trans "Are you sure you want to cancel your registration?" %}</strong>
        </p>

        <div
            style="
                background-color: #f8f9fa;
                border-left: 4px solid #dc3545;
                padding: 15px;
                margin: 20px 0;
            "
        >
            <p><strong>{% trans "Registration Details:" %}</strong></p>
            <p>
                {% trans "Collection:" %} {{ assignment.period_collection.collection.name }}
            </p>
            <p>{% trans "Period:" %} {{ assignment.period_collection.period.name }}</p>
        </div>

        <div
            style="
                background-color: #fff3cd;
                border-left: 4px solid #ffc107;
                padding: 15px;
                margin: 20px 0;
            "
        >
            <p><strong>{% trans "Email Verification Required" %}</strong></p>
            <p>{% trans "For privacy and security, please enter the email address used for registration to confirm deletion." %}</p>
        </div>

        <form method="post">
            {% csrf_token %}

            <div style="margin: 20px 0;">
                <label for="{{ form.email.id_for_label }}" style="display: block; margin-bottom: 5px; font-weight: bold;">
                    {{ form.email.label }}
                </label>
                {{ form.email }}
                {% if form.email.help_text %}
                    <small style="display: block; color: #666; margin-top: 5px;">
                        {{ form.email.help_text }}
                    </small>
                {% endif %}
                {% if form.email.errors %}
                    <div style="color: #dc3545; margin-top: 5px;">
                        {% for error in form.email.errors %}
                            <small></small>{{ error }}</small>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            {% if form.non_field_errors %}
                <div style="color: #dc3545; margin: 20px 0;">
                    {% for error in form.non_field_errors %}
                        <p></p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <button
                type="submit"
                style="
                    background-color: #dc3545;
                    color: white;
                    padding: 10px 20px;
                    border: none;
                    cursor: pointer;
                "
            >
                {% trans "Yes, Cancel Registration" %}
            </button>
            <a href="/" style="margin-left: 10px">{% trans "Keep Registration" %}</a>
        </form>

        <p><small>{% trans "This action cannot be undone." %}</small></p>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>
