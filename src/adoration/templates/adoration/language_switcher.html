{% load i18n %}
{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'adoration/css/language-switcher.css' %}">

<div class="language-switcher-buttons" id="languageSwitcher">
    {% for language in available_languages %}
    <form action="/i18n/setlang/" method="post" class="language-button-form">
        {% csrf_token %}
        <input
            name="next"
            type="hidden"
            value="{% if language.code == 'en' %}/{% else %}/{{ language.code }}/{% endif %}"
        />
        <input name="language" type="hidden" value="{{ language.code }}" />
        <button
            type="submit"
            class="language-btn {% if language.code == current_language %}active{% endif %}"
            {% if language.code == current_language %}aria-current="true"{% endif %}
            aria-label="{% if language.code == 'en' %}{% trans 'Switch to English' %}{% elif language.code == 'pl' %}{% trans 'Switch to Polish' %}{% elif language.code == 'nl' %}{% trans 'Switch to Dutch' %}{% else %}{% blocktrans with name=language.name %}Switch to {{ name }}{% endblocktrans %}{% endif %}"
            title="{% if language.code == 'en' %}English{% elif language.code == 'pl' %}Polski{% elif language.code == 'nl' %}Nederlands{% else %}{{ language.name }}{% endif %}"
        >
            <span class="language-flag" role="img" aria-hidden="true">
                {% if language.code == 'en' %}ğŸ‡ºğŸ‡¸{% elif language.code == 'pl' %}ğŸ‡µğŸ‡±{% elif language.code == 'nl' %}ğŸ‡³ğŸ‡±{% else %}ğŸŒ{% endif %}
            </span>
            <span class="language-code">
                {% if language.code == 'en' %}EN{% elif language.code == 'pl' %}PL{% elif language.code == 'nl' %}NL{% else %}{{ language.code|upper }}{% endif %}
            </span>
        </button>
    </form>
    {% endfor %}
</div>
